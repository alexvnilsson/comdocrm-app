<navbar>
    <a navbarItem (click)="onModalOpen.emit('modal_accounts_initialEditor')"><fa name="plus"></fa> Skapa</a>
    <a navbarItem routerLink="/sales/accounts/import"><fa name="search"></fa> Importera</a>
</navbar>

<ccrm-tabs>
    <ccrm-tabs-tab header="Alla kontakter">
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>Namn</th>
                    <th>Senast uppdaterad</th>
                    <th>Ansvarig</th>
                </tr>
            </thead>

            <tbody *ngIf="accounts && accounts.length > 0">
                <tr *ngFor="let account of accounts" (click)="onAccountClicked(account, $event)" role="button">
                    <td>{{ account.customer?.legalName || "ok√§nt" }}</td>
                    <td>{{ account.dateModified | amCalendar }}</td>
                    <td>{{ account.manager?.user?.fullName || "-" }}</td>
                </tr>  
            </tbody>
        </table>
    </ccrm-tabs-tab>

    <ccrm-tabs-tab header="Aktivitet">
        <div class="container pt-2">
            <ccrm-sales-accounts-list-view-all-statuses></ccrm-sales-accounts-list-view-all-statuses>
        </div>
    </ccrm-tabs-tab>
</ccrm-tabs>

<modal-container id="modal_accounts_initialEditor" [state]="modalOpen$">
    <ccrm-sales-accounts-details-initial-editor (onClosed)="onModalOpen.emit(null)"></ccrm-sales-accounts-details-initial-editor>
</modal-container>