<navbar>
    <a navbarItem routerLink="/sales/accounts"><fa name="address-card"></fa> Återgå till kontakter</a>
</navbar>

<div class="container-fluid pl-0 pr-0">
    <table class="table table-hover">
        <thead>
            <tr>
                <th>Namn</th>
                <th>Hämtad</th>
            </tr>
        </thead>

        <tbody>
            <tr *ngFor="let lead of leads | async" (click)="onLeadClicked(lead, $event)" role="button">
                <ng-container *ngIf="!lead.isImported">
                    <td>{{ lead.customer?.legalName || "okänt" }}</td>
                    <td>{{ lead.dateModified | amCalendar }}</td>
                </ng-container>
            </tr>  
        </tbody>
    </table>
</div>

<modal-container id="accounts_leads_leadCard" [state]="modalOpen$">
    <ccrm-sales-accounts-lead-card 
        [lead]="selectedLead$ | async"
        (onImported)="onAccountImported.emit($event)"
        (onClosed)="onModalOpen.emit(null)">
    </ccrm-sales-accounts-lead-card>
</modal-container>